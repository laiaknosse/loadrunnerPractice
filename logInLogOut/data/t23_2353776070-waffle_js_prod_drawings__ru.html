Ut("drawings");
function YCr(a){return{width:Math.max(1,Math.round(a.width/381)),height:Math.max(1,Math.round(a.height/381))}}function ZCr(a,c,d,e,f){a=$Cr(a,c);a=YCr(a);c=a.height+37;d.width=a.width;d.height=c;e.style.height=c+"px";f.style.width=a.width+"px"}function $Cr(a,c){var d=[50,113],e=[720,800,960,1024,1152,1280];a=c(a);c=e[0];for(var f=e.length-1;0<f;f--)if(e[f]+d[0]<=a.width&&.75*e[f]+d[1]<=a.height){c=e[f];break}return{width:381*c,height:285.75*c}};function aDr(a,c,d,e,f,g){this.id=a;this.kK=c;this.size=d;this.ga=e;this.close=f;this.ha=g};function bDr(a,c,d){po.call(this);this.ha=[];if("inner"==a){var e=JSON.parse(ml(window.location.href,"xpc"));e=new Bln(e);for(var f in c)e.Ol(f,c[f],!0);this.ga=e;this.ga.connect(Ca(this.KFc,this))}else if("outer"==a){if(!d)throw Error("HO");f=new Bln(d);for(e in c)f.Ol(e,c[e],!0);this.ga=f}}A(bDr,po);v=bDr.prototype;v.xb=function(){po.prototype.xb.call(this);this.ga.dispose();delete this.ga;delete this.ha};v.render=function(a,c){a=Fln(this.ga,a,c);this.ga.connect(Ca(this.KFc,this));return a};
v.isConnected=function(){return this.ga.isConnected()};v.send=function(a,c){this.ga.isConnected()?this.ga.send(a,c):this.ha.push([a,c])};v.KFc=function(){for(var a=this.ha,c=0;c<a.length;c++){var d=a[c];this.send(d[0],d[1])}this.ha=[]};function cDr(a){return eAa(a)};function dDr(a,c,d,e,f,g,k,l,m,p,r,u,w){l=void 0===l?null:l;r=void 0===r?!1:r;u=void 0===u?null:u;w=void 0===w?cDr:w;fE.call(this,void 0,void 0,m);this.eb=r;this.Qa=k;this.na=vic(a);if(!Ia(this.na,"/"))throw Error("IO");this.hb=c;this.Fa=d;this.ua=e;this.ia=f;this.oa=l;this.Aa=u;this.Ba=w;this.La=p;this.ob={close:Ca(this.e7c,this),autoSave:Ca(this.rFd,this)};this.Ca=new Rt(this);this.xa=null;this.ma=new Wz("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c",
this.Ed,2);this.ma.Bd("sketchy-dialog-title-close");this.Ea=this.ga=this.ik=null;this.Ua=g;Hvc(this,!0);Qz(this,null);this.QG=!1;Pz(this,!1)}A(dDr,fE);
function eDr(a,c,d){if(a.ga)throw Error("KO");a.Wc()||a.render();a.eb&&xl(c,"Debug","true");a.Aa&&xl(c,"authkey",a.Aa);c={pu:c.toString(),ppu:c.resolve(new nl("relay.html")).toString(),lpu:a.hb};a.ga=a.Ua("outer",a.ob,c);c=a.kd();a.Ea=a.ga.render(c,function(e){e.style.border="0px";e.frameBorder="no";e.scrolling="no";e.marginheight="0";e.marginwidth="0"});dn(a.xa,"");a.ik=d;ZCr(a.Ha(),a.Ba,a.Ea,c,a.getElement());a.setVisible(!0)}v=dDr.prototype;
v.e7c=function(a){this.setVisible(!1);this.La&&this.La(this);fDr(this,a,!0)};v.rFd=function(a){dn(this.xa,"\u0412\u0440\u0435\u043c\u044f \u0430\u0432\u0442\u043e\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f: "+(a.timestr||(new Date(a.time)).toLocaleTimeString()));fDr(this,a,!1)};function fDr(a,c,d){var e=c.id;if(e){var f=c.size,g=c.crop;a.ik(new aDr(e,c.revision,{width:f[0],height:f[1]},g?{left:g[0],top:g[1],width:g[2]-g[0],height:g[3]-g[1]}:null,d,c.isHmacCompliant))}}
v.Ya=function(){fE.prototype.Ya.call(this);Jy(this.getElement(),"sketchy-dialog");this.xa=this.Ha().Ya("SPAN",{"class":"sketchy-dialog-title-autosave"});this.ma.Bd("sketchy-dialog-title-close");var a=jnm(this);a.appendChild(this.xa);this.ma.render(a)};v.ab=function(){fE.prototype.ab.call(this);this.Ca.listen(this.ma,"action",Ek(this.fIc)).listen(this.getElement(),"keydown",this.f7c)};v.fIc=function(){this.ga.send("close",{});this.ga.isConnected()||this.setVisible(!1)};
v.f7c=function(a){27==a.keyCode&&((Eq?a.metaKey:a.ctrlKey)||a.shiftKey)&&(this.fIc(),a.preventDefault())};v.xb=function(){oo(this.Ca,this.ma,this.ga);fE.prototype.xb.call(this)};function gDr(a,c,d){return new bDr(a,c,d)};function hDr(a,c,d,e,f,g,k,l,m){var p=Bl("userPathPrefix");p=wic(p);var r=new nl("/obj/blank.html");a=new dDr(p.toString(),(new nl(window.location.href)).resolve(r).toString(),"trix",a,c,gDr,e,k,m,l);a.setTitle("\u0420\u0438\u0441\u0443\u043d\u043e\u043a");d=Ca(d.ua,d);if(f)if(f.ia)c=f.Ca,f=new nl(a.na+"d/"+f.ha+"/embeddednewcopy"),xl(f,"app",a.Fa),xl(f,"parent",a.ua),a.oa&&xl(f,"parentBackingId",a.oa),a.ia&&xl(f,"resourcekey",a.ia),c&&xl(f,"rev",c),g&&xl(f,"drawingRevisionAccessToken",g),eDr(a,f,
d);else{g=f.ha;if(!g)throw Error("JO");g=new nl(a.na+"d/"+g+"/embeddednewedit");""!=a.ua&&xl(g,"parent",a.ua);a.ia&&xl(g,"resourcekey",a.ia);(f=mk(a.Qa,"docs-to"))&&rs().Ro()&&xl(g,"allow_parent",f);eDr(a,g,d)}else g=$Cr(a.Ha(),a.Ba),f=new nl(a.na+"embeddednewcreate"),xl(f,"app",a.Fa),xl(f,"parent",a.ua),a.oa&&xl(f,"parentBackingId",a.oa),a.ia&&xl(f,"resourcekey",a.ia),xl(f,"initialCommands","[[1,["+g.width+","+g.height+"],null]]"),eDr(a,f,d);a.setVisible(!0);return a};function iDr(a,c,d,e,f,g,k){aD.call(this,a,e,d,f,g,k);this.ga=null;this.ha=c}A(iDr,aD);v=iDr.prototype;v.t$=q(!1);v.clone=function(){return new iDr(this.na,this.ha,this.Aa,this.Ii(),this.Ac(),this.Gc(),this.Ha())};v.V2=function(){var a=this.aSa();return aD.prototype.V2.call(this,a)};v.Ya=function(){var a=this.Ha().Ya("DIV");a.style.width=this.Ac()+"px";a.style.height=this.Gc()+"px";a.style.backgroundSize=this.Ac()+"px "+this.Gc()+"px";this.ga=this.Ii().na;iGm(a,this.ga);this.qc(a)};
v.setSize=function(a,c,d){aD.prototype.setSize.call(this,a,c,d);(d=this.getElement())&&(d.style.backgroundSize=a+"px "+c+"px")};v.p1=function(a){a=aD.prototype.p1.call(this,a);var c=this.Ii().na;c&&c!=this.ga&&(this.ga=c,a=!0);return a};v.Se=function(){aD.prototype.Se.call(this);this.ga&&iGm(this.getElement(),this.ga)};function jDr(a,c){eD.call(this,c);this.ga=a}A(jDr,eD);jDr.prototype.ab=function(){eD.prototype.ab.call(this);this.getHandler().listen(this.ga,"dblclick",this.ha)};jDr.prototype.ha=function(){this.dispatchEvent(new ro("drawing-edit"))};function kDr(a,c,d,e,f,g,k,l,m,p,r,u){d=new iDr(d,a,c,e,e.Ac(),e.Gc(),u);fD.call(this,a,c,d,f,g,k,l,r,1,m,p,u);this.ha=null}A(kDr,fD);v=kDr.prototype;v.wbb=function(){return[this.ha]};v.Ya=function(){fD.prototype.Ya.call(this);this.ha=new jDr(this.fb(),this.Ha());this.fb().style.borderColor="transparent"};v.ab=function(){fD.prototype.ab.call(this);this.getHandler().listen(this.ha,"drawing-edit",this.g7c)};v.g7c=function(){this.dispatchEvent(new IB("objectEdit"))};
v.clone=function(){return new kDr(this.tb(),this.Wb,this.X5().na,this.X5().Ii(),this.jc,this.ga,this.oa,this.fd,this.wc,this.yc,this.Ea,this.Ha())};v.jqa=q(!0);function lDr(a,c,d,e){Co.call(this);this.na=a;this.ia=c;this.ga=d;this.ha=null!=e?e:null;this.ma=new Rt(this);this.Ga(this.ma)}A(lDr,Co);
lDr.prototype.ua=function(a){if(a.close){var c=this.na,d=c.ma;if(null==this.ha){c=zB(c.ga);var e=cC(this.na.ga);e=OJm(e,AB(e),!0);var f=a.ga?YCr(a.ga):YCr(a.size),g={};a=(g.oid=null,g.ar=e.y,g.ac=e.x,g.x=16,g.y=16,g.w=f.width,g.h=f.height,g.did=a.id,g.drv=a.kK,g.hc=a.ha?1:0,g);a=new t3c(c,a,!1,!1);this.ma.Cf(d,"Hb",this.oa);this.ga&&this.ga.add(a.ha,a.Ca);a=new D2c([a]);this.ia.ga(a)}else d=d.Au(this.ha).clone(),d.ha=a.id,d.Ca=a.kK,c=a.ga?YCr(a.ga):YCr(a.size),d.setWidth(c.width),d.setHeight(c.height),
d.ia=!1,this.ga&&this.ga.add(a.id,a.kK),a=new lld([d]),this.ia.ga(a);this.dispatchEvent("afterhide")}};lDr.prototype.oa=function(a){this.ha=a.objectId};function mDr(){St.apply(this,arguments)}A(mDr,St);mDr.prototype.ga=function(){return hDr};mDr.prototype.ma=function(a,c,d,e){return new lDr(a,c,d,e)};mDr.prototype.ia=function(a,c,d,e,f,g,k,l,m,p,r){return new kDr(a,c,d,e,f,g,k,l,m,p,r,void 0)};mDr.prototype.ha=function(){return iDr};au("drawings",mDr);
QO();
// Google Inc.

//# sourceMappingURL=waffle_js_prod_drawings__ru.sourcemap
